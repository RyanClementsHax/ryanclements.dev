@use 'styles/utils';

@mixin code-block {
  pre:has(code) {
    @content;
  }
}

@mixin inline-code {
  :not(pre) > code {
    @content;
  }
}

.content {
  @include code-block() {
    @apply bg-gray-100 text-on-surface-offBase shadow;
  }

  @include inline-code() {
    @apply rounded-md bg-gray-200 text-on-surface-offBase shadow-sm;
    // stole these numbers from how github styles inline code
    @apply px-[0.4em] py-[0.2em] text-[85%];

    // overriding default @tailwindcss/typography styles
    // https://github.com/tailwindlabs/tailwindcss-typography/blob/5231af5bdd392404025330256f3797f8572d8067/src/styles.js#L1361
    &::before,
    &::after {
      content: '';
    }
  }

  ul,
  ol {
    & > li > input {
      margin-top: 0;
      margin-right: 0.5em;
      margin-bottom: 0.15em;
      vertical-align: middle;
    }
  }

  figure {
    figcaption {
      @apply text-center;
    }
  }
}

@include utils.dark {
  .content {
    @include code-block() {
      @apply bg-surface-base-elevation-100;
    }

    @include inline-code() {
      @apply bg-surface-base-elevation-200;
    }
  }
}
